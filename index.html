<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Beijing Olympic City Development Association - 2020 HAPPY NEW YEAR</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1">

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/app.css">

        <script src="libs/modernizr-2.8.3.min.js"></script>
        <script src="libs/jquery-1.12.0.min.js"></script>
    </head>
    <body>

    <div class="app-body">
        <div id="musicSwitch" class="m-btn"></div>
        <div class="ele ring" style="width: 220px; right: 40px; top: 100px;"><img src="img/012.png" /></div>
        <div class="ele point" style="width: 40px; right: 100px; top: 60px;"><img src="img/009.png" /></div>
        <div class="ele point" style="width: 20px; right: 60px; top: 60px;"><img src="img/009.png" /></div>
        <div class="ele point" style="width: 20px; right: 260px; top: 280px;"><img src="img/009.png" /></div>
        <div class="ele point" style="width: 25px; right: 180px; top: 30px;"><img src="img/009.png" /></div>
        <div class="ele point" style="width: 40px; right: 130px; top: 350px;"><img src="img/009.png" /></div>
        <div class="ele mouse" style="width: 220px; right: 40px; top: 100px;"><img src="img/010.png" /></div>
        <div class="ele" style="width: 120px; right: -30px; top: 30px;"><img src="img/013.png" /></div>
        <div class="app-paper">
            <div class="ele intro" style="width: 140px; left: -50px; top: -50px;"><img src="img/003.png" /></div>
            <div class="ele intro" style="width: 160px; left: 320px; top: -10px;"><img src="img/003.png" /></div>
            <div class="ele intro" style="width: 180px; left: 110px; top: 215px;"><img src="img/003.png" /></div>
            <div class="ele intro" style="width: 220px; left: 95px; top: 40px;"><img src="img/020.png" /></div>
            <div class="ele intro year" style="width: 85px; left: 60px; top: 105px;"><img src="img/006.png" /></div>
            <div class="ele intro year" style="width: 85px; left: 130px; top: 105px;"><img src="img/006a.png" /></div>
            <div class="ele intro year" style="width: 85px; left: 195px; top: 105px;"><img src="img/006.png" /></div>
            <div class="ele intro year" style="width: 85px; left: 260px; top: 105px;"><img src="img/006a.png" /></div>
            <div class="ele intro x" style="width: 200px; left: 110px; top: 165px;"><img src="img/014.png" /></div>
            <div class="ele intro" id="locale-a" style="width: 280px; left: 60px; top: 210px;"><img src="img/015.png" /></div>
            <div class="ele intro" style="width: 320px; left: 40px; top: 280px;"><img src="img/011.png" /></div>
            <div class="ele intro" id="locale-b" style="width: 180px; left: 110px; top: 290px;"><img src="img/021.png" /></div>
            <div class="ele intro" id="locale-c" style="width: 70px; left: 160px; top: 240px;"><img src="img/019.png" /></div>
            <div class="ele intro" style="width: 40px; left: 10px; top: 200px;"><img src="img/017.png" /></div>
            <div class="ele intro" style="width: 40px; left: 340px; top: 180px;"><img src="img/016.png" /></div>
            <div class="ele top" style="width: 40px; left: 15px; top: -10px;"><img src="img/004.png" /></div>
            <div class="ele top" style="width: 35px; left: 50px; top: -30px;"><img src="img/005.png" /></div>
        </div>
        <div class="ele star" style="width: 70px; right: 240px; top: 0;"><img src="img/008.png" /></div>
        <div class="ele star" style="width: 80px; right: 170px; top: 290px;"><img src="img/008.png" /></div>
        <div class="ele star" style="width: 50px; right: 10px; top: 340px;"><img src="img/008.png" /></div>
        <div class="ele star" style="width: 50px; right: 270px; top: 340px;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 45px; right: 210px; top: 60px;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 40px; right: -10px; top: 300px;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 35px; right: 350px; top: 30px;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 30px; right: 80px; top: 0;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 50px; left: 80px; top: 180px;"><img src="img/007.png" /></div>
        <div class="ele star" style="width: 70px; left: 20px; top: 280px;"><img src="img/008.png" /></div>
    </div>
    <audio id="m" autoplay="autoplay" loop="loop" src="bg1.mp3"></audio>

    <script>
        //
        var media = document.getElementById("m");
        document.addEventListener('WeixinJSBridgeReady', function(){media.play()});
        //
        $(function () {
            //
            if (location.hash.split('#')[1]!='international') {
                $('title').text('北京奥运城市发展促进会 - 2020新年贺卡');
                $('#locale-a').width(340).height(40).css({overflow: 'hidden', top: 220, left: 30,}).children().css('margin-top', -40);
                $('#locale-b').css('top', 270).children().prop('src', 'img/022.png');
                $('#locale-c').css({top: 215, left: 110});
            }
            //
            for (var i=0; i<10; i++) {
                setTimeout(createSnow, Math.round(Math.random()*8000)+1000);
            }
            //
            $(".star").each(function () {
                $(this).addClass(Math.round(Math.random())? 'rotate1':'rotate2');
            });
            $(".intro").each(function (i) {
                $(this).delay(i*300+800).fadeIn(1000);
            });
            $(".point,.top").each(function () {
                $(this).css('animation-delay', Math.round(Math.random()*5000)+'ms');
            });
            //
            $("#musicSwitch").click(function () {
                $(this).toggleClass("m-motion");
                if (media.paused) media.play();
                else media.pause();
            });
            //
            $(window).resize(function () {
                var ww = $(this).width(), wh = $(this).height();
                var pw = $('.app-body').width(), ph = $('.app-body').height();
                var flip = wh > ww;
                var deg = flip? '90deg':'0';
                var ratio = flip? Math.min(ww/ph, wh/pw):Math.min(ww/pw, wh/ph);
                $('.app-body').css({
                    top: Math.round((wh-ph)/2),
                    left: Math.round((ww-pw)/2),
                    transform: 'rotate('+deg+') scale('+ratio+')'
                });
            }).resize();
        });
        //
        function createSnow() {
            var star = $('<div class="snow"></div>');
            var x = Math.round(Math.random()*($(window).width()-100))+50;
            var y = Math.round(Math.random()*($(window).height()-100))+50;
            star.width(40).height(40).css({left: x, top: y}).appendTo(".app-body");
            setTimeout(function () {
                star.remove();
                createSnow();
            }, 5000);
        }
    </script>
    </body>
</html>
